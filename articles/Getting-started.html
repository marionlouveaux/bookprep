<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • bookprep</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="bookprep">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bookprep</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Getting-started.html">Getting started</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/marionlouveaux/bookprep/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Getting-started_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/marionlouveaux/bookprep/blob/master/vignettes/Getting-started.Rmd"><code>vignettes/Getting-started.Rmd</code></a></small>
      <div class="hidden name"><code>Getting-started.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://marionlouveaux.github.io/bookprep/">bookprep</a></span><span class="op">)</span></code></pre></div>
<div id="bookdown-skeleton-creation" class="section level1">
<h1 class="hasAnchor">
<a href="#bookdown-skeleton-creation" class="anchor"></a>Bookdown skeleton creation</h1>
<p>The function <code><a href="../reference/prepare_book.html">prepare_book()</a></code> requires a {bookdown} skeleton and a template. The {bookdown} skeleton contains only the following files: "_bookdown.yml“,”_output.yml“,”index.Rmd“,”preamble.tex“,”README.md“, and”style.css". These files condition the architecture (the skeleton) of the future book, i.e. how it will be printed/rendered, its css style, link to bibliography and information about author, title and creation date. By default, <code><a href="../reference/prepare_book.html">prepare_book()</a></code> uses the skeleton stored in <code>/book_skeleton</code> in the {bookprep} package. You can use your own skeleton if you prefer.</p>
<p>The {bookdown} skeleton created for the {bookprep} package was created by cleaning info specific to the {bookdown} package and replacing them by generic variable names:<br>
- Index.Rmd: create variable book_title, author_name, creation_date (default to <code><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date()</a></code>), short_description, index_title and index_content<br>
- _bookdown.yml: reuse book_title variable<br>
- _output.yml: reuse book_title variable, add info that this book was published with {bookprep}<br>
- README.md: reuse variable book_title and specifies that this book was published with {bookprep}</p>
</div>
<div id="template-creation" class="section level1">
<h1 class="hasAnchor">
<a href="#template-creation" class="anchor"></a>Template creation</h1>
<p>The template contains Rmd files corresponding to the named chapters, an index.md file containing the content of the future index and, if needed, an extra .css file. Named chapters and index.md can include variables. These variables can be replaced with custom content using the <code>replacements</code> parameter of <code><a href="../reference/prepare_book.html">prepare_book()</a></code>.</p>
<p>An example of template is included in {bookprep} in <code>/book_template_example</code>. You can also provide your own template, or create a minimal one using the function <code><a href="../reference/initialize_template.html">initialize_template()</a></code>.</p>
</div>
<div id="find-and-replace-all-variables-in-one-text-file-of-the-book-skeleton" class="section level1">
<h1 class="hasAnchor">
<a href="#find-and-replace-all-variables-in-one-text-file-of-the-book-skeleton" class="anchor"></a>Find and replace all variables in one text file of the book skeleton</h1>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># copy to a temporary file to avoid overwriting the package</span>
<span class="va">index_tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"index-"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/files.html">file.copy</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"book_skeleton/index.Rmd"</span>, package <span class="op">=</span> <span class="st">"bookprep"</span><span class="op">)</span>, to <span class="op">=</span> <span class="va">index_tmp</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="fu"><a href="../reference/find_and_replace.html">find_and_replace</a></span><span class="op">(</span>
  file <span class="op">=</span> <span class="va">index_tmp</span>,
  replacements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="st">"book_title"</span> <span class="op">=</span> <span class="st">"My book"</span>,
    <span class="st">"author_name"</span> <span class="op">=</span> <span class="st">"Marion Louveaux"</span>,
    <span class="st">"creation_date"</span> <span class="op">=</span> <span class="st">"`r Sys.Date()`"</span>,
    <span class="st">"short_description"</span> <span class="op">=</span> <span class="st">"An example of book with {bookprep}."</span>,
    <span class="st">"index_title"</span> <span class="op">=</span> <span class="st">"Context"</span>
  <span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; [1] "/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpvA3wr9/index-8f61c5213d4"</span></code></pre></div>
</div>
<div id="modify-all-variables-in-all-files" class="section level1">
<h1 class="hasAnchor">
<a href="#modify-all-variables-in-all-files" class="anchor"></a>Modify all variables in all files</h1>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create temporary directory for reproducible example</span>
<span class="va">dir_tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"proj-"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files2.html">dir.create</a></span><span class="op">(</span><span class="va">dir_tmp</span><span class="op">)</span>
<span class="co"># browseURL(dir_tmp)</span>

<span class="co"># prepare_files() requires a directory with some files inside to look for replacements</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html">file.copy</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"book_skeleton"</span>, package <span class="op">=</span> <span class="st">"bookprep"</span><span class="op">)</span>, to <span class="op">=</span> <span class="va">dir_tmp</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="fu"><a href="../reference/prepare_files.html">prepare_files</a></span><span class="op">(</span>
  path <span class="op">=</span> <span class="va">dir_tmp</span>,
  replacements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="st">"book_title"</span> <span class="op">=</span> <span class="st">"My book"</span>,
    <span class="st">"author_name"</span> <span class="op">=</span> <span class="st">"Marion Louveaux"</span>,
    <span class="st">"creation_date"</span> <span class="op">=</span> <span class="st">"`r Sys.Date()`"</span>,
    <span class="st">"short_description"</span> <span class="op">=</span> <span class="st">"An example of book with {bookprep}."</span>,
    <span class="st">"index_title"</span> <span class="op">=</span> <span class="st">"Context"</span>
  <span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; [1] "/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//RtmpvA3wr9/proj-8f618b45b52/book_skeleton/_bookdown.yml"</span>
<span class="co">#&gt; [2] "/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//RtmpvA3wr9/proj-8f618b45b52/book_skeleton/_output.yml"  </span>
<span class="co">#&gt; [3] "/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//RtmpvA3wr9/proj-8f618b45b52/book_skeleton/index.Rmd"    </span>
<span class="co">#&gt; [4] "/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//RtmpvA3wr9/proj-8f618b45b52/book_skeleton/README.md"</span></code></pre></div>
</div>
<div id="prepare-customised-bookdown" class="section level1">
<h1 class="hasAnchor">
<a href="#prepare-customised-bookdown" class="anchor"></a>Prepare customised bookdown</h1>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create temporary directory for reproducible example</span>
<span class="va">dir_tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"proj-"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files2.html">dir.create</a></span><span class="op">(</span><span class="va">dir_tmp</span><span class="op">)</span>
<span class="co"># browseURL(dir_tmp)</span>

<span class="fu"><a href="../reference/prepare_book.html">prepare_book</a></span><span class="op">(</span>
  path <span class="op">=</span> <span class="va">dir_tmp</span>,
  template <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"book_template_example"</span>, package <span class="op">=</span> <span class="st">"bookprep"</span><span class="op">)</span>,
  replacements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="co"># replacements mandatory for the bookdown skeleton</span>
    <span class="st">"book_title"</span> <span class="op">=</span> <span class="st">"My book"</span>,
    <span class="st">"author_name"</span> <span class="op">=</span> <span class="st">"Marion Louveaux"</span>,
    <span class="st">"creation_date"</span> <span class="op">=</span> <span class="st">"`r Sys.Date()`"</span>,
    <span class="st">"short_description"</span> <span class="op">=</span> <span class="st">"An example of book with {bookprep}."</span>,
    <span class="co"># replacement specific to my template that you can add if you want</span>
    <span class="st">"index_title"</span> <span class="op">=</span> <span class="st">"Context"</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="initialize-a-template" class="section level1">
<h1 class="hasAnchor">
<a href="#initialize-a-template" class="anchor"></a>Initialize a template</h1>
<ul>
<li>index.txt or index.md: Level 1 title and/or content<br>
</li>
<li>some Rmd files</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create temporary directory for reproducible example</span>
<span class="va">dir_tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"proj-"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files2.html">dir.create</a></span><span class="op">(</span><span class="va">dir_tmp</span><span class="op">)</span>
<span class="co"># browseURL(dir_tmp)</span>

<span class="fu"><a href="../reference/initialize_template.html">initialize_template</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">dir_tmp</span>, 
                    chapters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Introduction"</span>, <span class="st">"Material and Methods"</span>,
                                 <span class="st">"Results"</span>, <span class="st">"Discussion"</span><span class="op">)</span>,
                                references <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div>
</div>
<div id="add-a-custom-bib-file" class="section level1">
<h1 class="hasAnchor">
<a href="#add-a-custom-bib-file" class="anchor"></a>Add a custom bib file</h1>
<p>The book skeleton includes a book.bib file containing references to {bookdown} and {bookprep}. The function below copies a new .bib file to the root of the project and modifies the index.Rmd to add this file.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Marion Louveaux.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
